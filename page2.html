
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Caldit</title>
<style>
body {
    font-family: Arial, sans-serif;
    background-color: #696969;
    margin: 0;
    padding: 0px;
}
input[type="text"], select {
    width: 100%;
    padding: 8px;
    border: 1px solid #ddd;
    border-radius: 4px;
}
input[type="button"] {
    background-color: #3D3D3D;
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
    width: 100%;
}
textarea {
    height: 120px;
}
.grid-container {
    display: grid;
    gap: 4px;
    margin: 4px;
}
.grid-container.first-two-rows {
    grid-template-columns: repeat(3, 1fr);
}
.grid-container.next-two-a {
    grid-template-columns: repeat(1, 2fr);
}
.grid-container.next-two-disc {
    grid-template-columns: repeat(3, 1fr);
}
.grid-container.buttons {
    grid-template-columns: repeat(4, 1fr);
}
.description {
    text-align: center;
    font-size: 12px;
    color: #C45137;
    font-family: "Courier New", Courier, monospace;
    margin-bottom: 0px;
}
*{
background: #494949;
color: #E8E8E8;
border-color: #696969;
}
</style>
</head>
<body>

<form id="meinFormular">

  <div class="grid-container first-two-rows">
    <div class="description">LASTMODIFIED</div>
    <div class="description">CATEGORIES</div>
    <div class="description">ORGANIZER</div>
    <input type="text" id="LASTMODIFIED" name="LASTMODIFIED" placeholder="LASTMODIFIED" value="20230102T000000Z">
    <input type="text" id="CATEGORIES" name="CATEGORIES" placeholder="CATEGORIES" value="Besprechung, Wichtig">
    <input type="text" id="ORGANIZER" name="ORGANIZER" placeholder="ORGANIZER" value="mailto:organisator@example.com">
    <div class="description">DTSTART</div>
    <div class="description">DTEND</div>
    <div class="description">ATTENDEE</div>
    <input type="text" id="DTSTART" name="DTSTART" placeholder="DTSTART" value="20240122">
    <input type="text" id="DTEND" name="DTEND" placeholder="DTEND" value="20240122">
    <input type="text" id="ATTENDEE" name="ATTENDEE" placeholder="ATTENDEE" value="mailto:max@example.com">
  </div>

  <div class="grid-container next-two-a">
    <div class="description">SUMMARY</div>
    <input type="text" id="SUMMARY" name="SUMMARY" placeholder="SUMMARY" value="Meeting ah102">
  </div>

  <div class="grid-container first-two-disc">
    <div class="description">DESCRIPTION</div>
    <textarea id="DESCRIPTION" name="DESCRIPTION" placeholder="DESCRIPTION" value="Lets go"></textarea>
  </div>

  <div class="grid-container first-two-rows">
    <div class="description">LOCATION</div>
    <div class="description">GEO</div>
    <div class="description">URL</div>
    <input type="text" id="LOCATION" name="LOCATION" placeholder="LOCATION" value="Konferenzraum 3">
    <input type="text" id="GEO" name="GEO" placeholder="GEO" value="37.386013;-122.082932">
    <input type="text" id="URL" name="URL" placeholder="URL" value="https://example.com/meetings/123">
    <div class="description">ATTACH</div>
    <div class="description">UID</div>
    <div class="description">DTSTAMP</div>
    <input type="text" id="ATTACH" name="ATTACH" placeholder="ATTACH" value="https://example.com/dokument.pdf">
    <input type="text" id="UID" name="UID" placeholder="UID" value="12345678901@example.com">
    <input type="text" id="DTSTAMP" name="DTSTAMP" placeholder="DTSTAMP" value="20240101T000000Z">
    <div class="description">CREATED</div>
    <div class="description">STATUS</div>
    <div class="description">VALARM</div>
    <input type="text" id="CREATED" name="CREATED" placeholder="CREATED" value="20240101T000000Z">
    <input type="text" id="STATUS" name="STATUS" placeholder="STATUS" value="CONFIRMED">
    <input type="text" id="VALARM" name="VALARM" placeholder="VALARM" value="{'TRIGGER': '-PT15M', 'ACTION': 'DISPLAY', 'DESCRIPTION': 'Erinnerung an das wöchentliche Meeting'}">
    <div class="description">RRULE</div>
    <div class="description">CLASS</div>
    <div class="description">TRANSP</div>
    <input type="text" id="RRULE" name="RRULE" placeholder="RRULE" value="FREQ=WEEKLY;BYDAY=MO,FR">
    <input type="text" id="CLASS" name="CLASS" placeholder="CLASS" value="PRIVATE">
    <input type="text" id="TRANSP" name="TRANSP" placeholder="TRANSP" value="OPAQUE">
    <div class="description">PRIORITY</div>
    <div class="description">ATTACH2</div>
    <div class="description">TMP</div>
    <input type="text" id="PRIORITY" name="PRIORITY" placeholder="PRIORITY" value="2">
    <input type="text" id="ATTACH2" name="ATTACH2" placeholder="ATTACH2" value="">
    <input type="text" id="TMP" name="TMP" placeholder="TMP" value="[]">
  </div>
  <div class="grid-container buttons">
    <input type="button" value="Update" onclick="senden(); setTimeout(function() { window.location.href='month.html'; }, 1000); return true;">
    <input type="button" value="DELETE" onclick="if(confirm('Möchtest du fortfahren?')) senden_del_uid() ; setTimeout(function() { window.location.href='month.html'; }, 1000); return true;">
    <input type="button" value="Export" onclick="senden_ex(); setTimeout(function() { window.location.href='month.html'; }, 5000); return true;">
    <input type="button" value="Back" onclick="senden_back(); setTimeout(function() { window.location.href='month.html'; }, 1000); return true;">
  </div>
</form>


<script>
function senden_back() {
    var url = "caldit://create?single=yes&";
    window.open(url, '_self');
}
</script>

<script>
function senden_ex() {
    var UID = document.getElementById('UID').value;
    var url = "caldit://export_ics?single=yes&" +
              "UID=" + encodeURIComponent(UID);
    window.open(url, '_self');
}
</script>

<script>
function senden_del_uid() {
    var UID = document.getElementById('UID').value;
    var url = "caldit://delete_termin?" +
              "UID=" + encodeURIComponent(UID);
    window.open(url, '_self');
}
</script>

<script>
function senden() {
    var UID = document.getElementById('UID').value;
    var DTSTAMP = document.getElementById('DTSTAMP').value;
    var CREATED = document.getElementById('CREATED').value;
    var LASTMODIFIED = document.getElementById('LASTMODIFIED').value;
    var DTSTART = document.getElementById('DTSTART').value;
    var DTEND = document.getElementById('DTEND').value;
    var SUMMARY = document.getElementById('SUMMARY').value;
    var DESCRIPTION = document.getElementById('DESCRIPTION').value;
    var LOCATION = document.getElementById('LOCATION').value;
    var GEO = document.getElementById('GEO').value;
    var ORGANIZER = document.getElementById('ORGANIZER').value;
    var ATTENDEE = document.getElementById('ATTENDEE').value;
    var URL = document.getElementById('URL').value;
    var STATUS = document.getElementById('STATUS').value;
    var VALARM = document.getElementById('VALARM').value;
    var RRULE = document.getElementById('RRULE').value;
    var CLASS = document.getElementById('CLASS').value;
    var TRANSP = document.getElementById('TRANSP').value;
    var PRIORITY = document.getElementById('PRIORITY').value;
    var CATEGORIES = document.getElementById('CATEGORIES').value;
    var ATTACH = document.getElementById('ATTACH').value;
    var ATTACH2 = document.getElementById('ATTACH2').value;
    var TMP = document.getElementById('TMP').value;

    var url = "caldit://save_termin?" +
              "UID=" + encodeURIComponent(UID) +
              "&DTSTAMP=" + encodeURIComponent(DTSTAMP) +
              "&CREATED=" + encodeURIComponent(CREATED) +
              "&LASTMODIFIED=" + encodeURIComponent(LASTMODIFIED) +
              "&DTSTART=" + encodeURIComponent(DTSTART) +
              "&DTEND=" + encodeURIComponent(DTEND) +
              "&SUMMARY=" + encodeURIComponent(SUMMARY) +
              "&DESCRIPTION=" + encodeURIComponent(DESCRIPTION) +
              "&LOCATION=" + encodeURIComponent(LOCATION) +
              "&GEO=" + encodeURIComponent(GEO) +
              "&ORGANIZER=" + encodeURIComponent(ORGANIZER) +
              "&ATTENDEE=" + encodeURIComponent(ATTENDEE) +
              "&URL=" + encodeURIComponent(URL) +
              "&STATUS=" + encodeURIComponent(STATUS) +
              "&VALARM=" + encodeURIComponent(VALARM) +
              "&RRULE=" + encodeURIComponent(RRULE) +
              "&CLASS=" + encodeURIComponent(CLASS) +
              "&TRANSP=" + encodeURIComponent(TRANSP) +
              "&PRIORITY=" + encodeURIComponent(PRIORITY) +
              "&CATEGORIES=" + encodeURIComponent(CATEGORIES) +
              "&ATTACH=" + encodeURIComponent(ATTACH) +
              "&ATTACH2=" + encodeURIComponent(ATTACH2) +
              "&TMP=" + encodeURIComponent(TMP);

    window.open(url, '_self');
}
</script>
</body>
</html>

